# 1. Что такое СУБД? Какие ты знаешь СУБД?

__Система управления базами данных (СУБД)__ — это программное обеспечение, которое позволяет создавать, управлять и манипулировать базами данных. СУБД обеспечивает взаимодействие между пользователями, приложениями и самими данными, обеспечивая структурирование, хранение и управление информацией.

_Основные функции СУБД:_
1. __Создание базы данных и таблиц:__ СУБД позволяет создавать и изменять структуры баз данных.

2. __Манипуляция данными:__ Включает операции вставки, обновления, удаления и поиска данных.

3. __Администрирование базы данных:__ Управление пользователями, безопасностью данных, резервным копированием и восстановлением.

4. __Запросы и отчетность:__ Использование языков запросов, таких как SQL, для извлечения данных и создания отчетов.

_Известные СУБД:_
1. __MySQL:__ Открытая и широко используемая реляционная СУБД, часто используется для веб-приложений.

2. __PostgreSQL:__ Открытая реляционная СУБД, известная своей надежностью и поддержкой расширенных функций.

3. __Microsoft SQL Server:__ Проприетарная реляционная СУБД от Microsoft, часто используется в корпоративных средах.

4. __Oracle Database:__ Мощная и широко используемая реляционная СУБД, разработанная Oracle Corporation.

5. __SQLite:__ Встраиваемая реляционная СУБД, часто используется для мобильных приложений и небольших систем.

6. __MongoDB:__ Документо-ориентированная NoSQL база данных, используется для работы с неструктурированными данными.

7. __Cassandra:__ Распределенная NoSQL база данных, подходящая для масштабируемых и высокопроизводительных приложений.

8. __Redis:__ База данных ключ-значение, используемая для кэширования и быстрой обработки данных.

_Примеры использования:_
- __Веб-приложения:__ MySQL или PostgreSQL часто используются для хранения данных пользователей, заказов и контента.

- __Мобильные приложения:__ SQLite используется для локального хранения данных на устройствах.

- __Анализ больших данных:__ Cassandra или MongoDB используются для хранения и обработки больших объемов данных.

# 2. Что такое БД? Какие бываю БД?
База данных (БД) — это организованная коллекция данных, которую можно легко управлять и обновлять. Она позволяет хранить, извлекать и манипулировать данными. Базы данных используются практически во всех сферах, где есть необходимость в обработке больших объемов информации.

_Типы баз данных:_
1. __Реляционные базы данных (RDBMS):__

Хранят данные в таблицах, которые связаны друг с другом. Используют язык SQL для управления и запроса данных.

Примеры: MySQL, PostgreSQL, Oracle Database, Microsoft SQL Server.

2. __Документо-ориентированные базы данных:__

Хранят данные в форме документов (например, JSON или XML). Идеально подходят для хранения неструктурированных данных.

Примеры: MongoDB, CouchDB.

3. __Графовые базы данных:__

Оптимизированы для работы с графами, где данные представлены в виде узлов и ребер. Идеальны для приложений, требующих сложных связей между данными.

Примеры: Neo4j, ArangoDB.

4. __Ключ-значение базы данных:__

Простые и быстрые, используют пары ключ-значение для хранения данных. Часто применяются для кэширования и быстрой обработки данных.

Примеры: Redis, Memcached.

5. __Колонночные базы данных:__

Оптимизированы для аналитических запросов и работы с большими объемами данных. Хранят данные в виде столбцов, а не строк.

Примеры: Apache Cassandra, HBase.

6. __Time Series базы данных:__

Оптимизированы для хранения и анализа временных рядов данных, таких как метрики и события, происходящие с течением времени.

Примеры: InfluxDB, TimescaleDB.

_Примеры использования:_
1. __Веб-приложения:__ MySQL или PostgreSQL для хранения данных пользователей и контента.

2. __Мобильные приложения:__ SQLite для локального хранения данных на устройствах.

3. __Анализ больших данных:__ Cassandra или MongoDB для обработки больших объемов данных.

4. __Социальные сети:__ Neo4j для управления сложными связями между пользователями и их взаимодействиями.

# 3. В каком виде хранятся данные в Реляционных БД?
В реляционных базах данных (РБД) данные хранятся в виде таблиц, которые состоят из строк и столбцов. Таблицы позволяют структурированно и логично организовывать данные, а также устанавливать связи между различными наборами данных. Вот основные компоненты реляционной базы данных:

_Основные компоненты:_
1. __Таблицы:__ Основные структуры хранения данных, представляющие собой двумерные массивы, где строки (или записи) содержат отдельные записи данных, а столбцы (или поля) представляют категории данных.

2. __Строки:__ Каждая строка в таблице представляет собой уникальную запись данных. Например, строка в таблице employees может содержать данные об одном сотруднике.

3. __Столбцы:__ Каждый столбец в таблице представляет определенный тип данных. Например, столбцы в таблице employees могут включать employee_id, name, position, и salary.

4. __Первичный ключ:__ Уникальный идентификатор для каждой строки в таблице. Он обеспечивает уникальность записей. Например, employee_id в таблице employees может быть первичным ключом.

5. __Внешний ключ:__ Поле, которое создает связь между таблицами. Внешний ключ в одной таблице указывает на первичный ключ другой таблицы, устанавливая отношения между записями.

# 4. Что такое SQL?
SQL (Structured Query Language) — это стандартный язык для управления и манипулирования базами данных. Он используется для выполнения различных операций над данными в реляционных базах данных, таких как создание, чтение, обновление и удаление данных (операции, известные как CRUD).

_Основные возможности SQL:_
- __Создание таблиц и баз данных:__ SQL позволяет создавать новые базы данных и таблицы.

- __Вставка данных:__ Добавление новых записей в таблицы.

- __Обновление данных:__ Изменение существующих записей в таблицах.

- __Удаление данных:__ Удаление записей из таблиц.

- __Запросы к данным:__ Извлечение данных из таблиц с использованием команд SELECT.

- __Управление доступом:__ Управление правами доступа к данным и таблицам.

# 5. Какая разница между MySQL и SQL?
_Основные отличия:_
__SQL:_

- Является языком запросов, используемым для работы с базами данных.

- Стандартизирован ANSI и ISO.

- Используется в различных СУБД, таких как MySQL, PostgreSQL, Oracle, SQL Server и других.

__MySQL:__

- Является конкретной реализацией СУБД, использующей SQL для управления данными.

- Популярная платформа для веб-приложений благодаря своей скорости и надежности.

- Предоставляет дополнительные возможности и оптимизации, специфичные для MySQL.

# 6. Что такое первичный ключ (Primary key)? Как использовать?
__Первичный ключ (Primary Key)__ — это уникальный идентификатор для каждой записи в таблице базы данных. Он обеспечивает целостность данных и гарантирует, что каждая строка в таблице уникальна.

_Характеристики первичного ключа:_
1. __Уникальность:__ Каждый первичный ключ должен быть уникальным в пределах одной таблицы.

2. __Не допускает NULL:__ Значение первичного ключа не может быть NULL.

3. __Один на таблицу:__ В каждой таблице может быть только один первичный ключ.

_Примеры использования:_
<br>__Создание таблицы с первичным ключом:__

    sql
    CREATE TABLE employees (
        id INT PRIMARY KEY,
        name VARCHAR(50),
        position VARCHAR(50)
    );
В этом примере id является первичным ключом таблицы employees.

__Создание таблицы с автоинкрементным первичным ключом:__

    sql
    CREATE TABLE employees (
        id INT PRIMARY KEY AUTO_INCREMENT,
        name VARCHAR(50),
        position VARCHAR(50)
    );
В этом примере id автоматически увеличивается на единицу для каждой новой записи, обеспечивая уникальность.

__Добавление первичного ключа в существующую таблицу:__

    sql
    ALTER TABLE employees ADD PRIMARY KEY (id);
Этот запрос добавляет столбец id в качестве первичного ключа для существующей таблицы employees.

_Зачем нужен первичный ключ:_
1. __Идентификация записей:__ Обеспечивает уникальную идентификацию каждой записи.

2. __Связи между таблицами:__ Используется для создания связей между таблицами через внешние ключи.

3. __Целостность данных:__ Поддерживает целостность и уникальность данных в таблице.
# 7. Что такое внешний ключ (Foreign key)? Как использовать?
__Внешний ключ (Foreign Key)__ — это столбец или комбинация столбцов в одной таблице, который указывает на первичный ключ другой таблицы. Внешний ключ устанавливает связь между двумя таблицами, обеспечивая целостность данных и предотвращая некорректные записи.

_Основные характеристики внешнего ключа:_
1. __Связь между таблицами:__ Внешний ключ устанавливает отношения между таблицами, связывая строки одной таблицы со строками другой.

2. __Целостность данных:__ Обеспечивает целостность данных путем ограничения значений в столбце внешнего ключа только теми значениями, которые существуют в первичном ключе связанной таблицы.

3. __Предотвращение удаления связанных данных:__ Ограничивает удаление или изменение записей в таблице, на которые ссылаются строки в другой таблице.

_Примеры использования:_
<br>Создание таблиц с внешним ключом:

    sql
    CREATE TABLE departments (
        department_id INT PRIMARY KEY,
        department_name VARCHAR(50)
    );

    CREATE TABLE employees (
        employee_id INT PRIMARY KEY,
        name VARCHAR(50),
        department_id INT,
        FOREIGN KEY (department_id) REFERENCES departments(department_id)
    );
В этом примере:

Таблица *departments* содержит столбец **department_id**, который является первичным ключом.

Таблица *employees* содержит столбец **department_id**, который является внешним ключом, ссылающимся на **department_id** в таблице *departments*.

_Объяснение:_
<br>**department_id INT PRIMARY KEY:** Определяет столбец **department_id** как первичный ключ в таблице **departments**.

**FOREIGN KEY (department_id) REFERENCES departments(department_id)**: Определяет столбец **department_id** в таблице **employees** как внешний ключ, который ссылается на **department_id** в таблице **departments**.

_Пример использования внешнего ключа для поддержки целостности данных:_
<br>Вставка данных:

    sql
    INSERT INTO departments (department_id, department_name) VALUES (1, 'Human Resources');
    INSERT INTO employees (employee_id, name, department_id) VALUES (1, 'Alice', 1);
 Вставка строки в таблицу employees с department_id = 1 возможна только если в таблице departments существует строка с department_id = 1.

<br>Удаление данных:

    sql
    DELETE FROM departments WHERE department_id = 1;
Этот запрос приведет к ошибке, если в таблице **employees** существуют строки с **department_id = 1**, поскольку внешние ключи обеспечивают ссылочную целостность.

Внешние ключи помогают поддерживать структурированность и целостность данных в реляционной базе данных, обеспечивая корректные связи между таблицами.
# 8. Что такое реляции? Зачем нужны реляции?
В контексте реляционных баз данных (РБД) термин "реляции" относится к отношениям между таблицами. Эти отношения позволяют связывать данные в одной таблице с данными в другой, обеспечивая целостность и согласованность данных.

_Типы реляций:_
1. __Один к одному (One-to-One):__

Каждой записи в таблице A соответствует только одна запись в таблице B, и наоборот.

Пример: Один человек может иметь только один паспорт.

2. __Один ко многим (One-to-Many):__

Каждой записи в таблице A соответствует множество записей в таблице B, но каждой записи в таблице B соответствует только одна запись в таблице A.

Пример: Один родитель может иметь множество детей.

3. __Многие к одному (Many-to-One):__

Обратное отношение "один ко многим". Много записей в таблице A соответствуют одной записи в таблице B.

Пример: Многие студенты могут быть записаны на один курс.

4. __Многие ко многим (Many-to-Many):__

Каждой записи в таблице A может соответствовать множество записей в таблице B, и наоборот.

Пример: Многие студенты могут быть записаны на множество курсов.

___Зачем нужны реляции:___
1. __Целостность данных:__ Реляции обеспечивают целостность данных, связывая связанные записи.

2. __Избежание дублирования:__ Реляции помогают избежать дублирования данных, позволяя хранить общие данные в отдельных таблицах.

3. __Упрощение запросов:__ Реляции позволяют легко выполнять сложные запросы, объединяя данные из нескольких таблиц.

4. __Моделирование реальных связей:__ Реляции позволяют моделировать сложные связи между данными, отражающие реальные сценарии.
# 9. Приведи пример реляции, как она вообще работает?
__Один ко многим:__
<br>Таблицы **employees** и **departments**:

    sql
    CREATE TABLE departments (
        department_id INT PRIMARY KEY,
        department_name VARCHAR(50)
    );

    CREATE TABLE employees (
        employee_id INT PRIMARY KEY,
        name VARCHAR(50),
        department_id INT,
        FOREIGN KEY (department_id) REFERENCES departments(department_id)
    );
В этом примере один отдел (**departments**) может включать множество сотрудников (**employees**).

__Многие ко многим:__
<br>Таблицы students, courses и student_courses:

    sql
    CREATE TABLE students (
        student_id INT PRIMARY KEY,
        student_name VARCHAR(50)
    );

    CREATE TABLE courses (
        course_id INT PRIMARY KEY,
        course_name VARCHAR(50)
    );

    CREATE TABLE student_courses (
        student_id INT,
        course_id INT,
        FOREIGN KEY (student_id) REFERENCES students(student_id),
        FOREIGN KEY (course_id) REFERENCES courses(course_id)
    );
В этом примере студент может быть записан на несколько курсов, а каждый курс может включать множество студентов. Связь реализуется через промежуточную таблицу student_courses.


# 10. Какие ты знаешь JOIN? Распиши подробно про каждый.
В SQL существует несколько типов операторов JOIN, которые используются для объединения строк из двух или более таблиц на основе связанного столбца. Вот основные типы JOIN и подробное объяснение каждого из них:

__1. INNER JOIN__
<br>INNER JOIN возвращает строки, которые имеют совпадения в обеих таблицах. Это самый распространенный тип соединения.

Пример:

    sql
    SELECT employees.name, departments.department_name
    FROM employees
    INNER JOIN departments ON employees.department_id = departments.department_id;
В этом примере будут возвращены только те сотрудники, у которых есть соответствующие записи в таблице departments.

__2. LEFT JOIN (или LEFT OUTER JOIN)__
LEFT JOIN возвращает все строки из левой таблицы и соответствующие строки из правой таблицы. Если соответствий нет, то результат содержит NULL для всех столбцов правой таблицы.

Пример:

    sql
    SELECT employees.name, departments.department_name
    FROM employees
    LEFT JOIN departments ON employees.department_id = departments.department_id;
В этом примере будут возвращены все сотрудники, даже если у них нет соответствующего отдела. Поля отдела будут содержать NULL для таких сотрудников.

__3. RIGHT JOIN (или RIGHT OUTER JOIN)__
RIGHT JOIN работает аналогично LEFT JOIN, но возвращает все строки из правой таблицы и соответствующие строки из левой таблицы. Если соответствий нет, то результат содержит NULL для всех столбцов левой таблицы.

Пример:

    sql
    SELECT employees.name, departments.department_name
    FROM employees
    RIGHT JOIN departments ON employees.department_id = departments.department_id;
В этом примере будут возвращены все отделы, даже если в них нет сотрудников. Поля сотрудников будут содержать NULL для таких отделов.

__4. FULL JOIN (или FULL OUTER JOIN)__
FULL JOIN объединяет результат LEFT JOIN и RIGHT JOIN. Он возвращает все строки, когда есть совпадение в одной из таблиц. Если совпадения нет, то результат содержит NULL для отсутствующих частей.

Пример:

    sql
        SELECT employees.name, departments.department_name
        FROM employees
        FULL OUTER JOIN departments ON employees.department_id = departments.department_id;
В этом примере будут возвращены все сотрудники и все отделы, даже если у сотрудников нет соответствующего отдела и у отделов нет соответствующих сотрудников.

__5. CROSS JOIN__
CROSS JOIN возвращает декартово произведение двух таблиц, то есть каждая строка из первой таблицы соединяется со всеми строками из второй таблицы.

Пример:

    sql
    SELECT employees.name, departments.department_name
    FROM employees
    CROSS JOIN departments;
В этом примере каждая строка из таблицы employees будет соединена со всеми строками из таблицы departments.

__6. SELF JOIN__
SELF JOIN используется для соединения таблицы с самой собой. Это полезно для иерархических или рекурсивных структур данных.

Пример:

    sql
    SELECT e1.name AS Employee, e2.name AS Manager
    FROM employees e1
    INNER JOIN employees e2 ON e1.manager_id = e2.employee_id;
В этом примере таблица employees соединяется с самой собой для получения списка сотрудников и их менеджеров.

Эти операторы JOIN позволяют гибко управлять связями между таблицами и эффективно извлекать связанные данные.

# 11. Что бы работали JOIN нужны ли реляции?
Для работы операторов JOIN реляции (отношения) между таблицами не являются обязательным требованием, но они существенно облегчают и логически обосновывают их использование. Давайте разберемся, почему реляции полезны и как они влияют на использование JOIN.

__Без реляций:__
Если в базе данных отсутствуют явные реляции между таблицами (например, через внешние ключи), операторы JOIN все равно могут использоваться для объединения данных на основе общего поля. Однако, в этом случае ответственность за поддержание целостности данных и правильных связей между таблицами полностью ложится на разработчика.

Пример без реляций:

    sql
    SELECT e.name, d.department_name
    FROM employees e
    JOIN departments d ON e.department_name = d.department_name;
В этом примере JOIN работает, так как обе таблицы содержат общий столбец department_name. Однако, наличие связи не гарантировано и может привести к ошибкам и дублированию данных.

__С реляциями:__
Когда таблицы имеют реляции через внешние ключи, это позволяет СУБД автоматически поддерживать целостность данных и гарантировать, что связи между таблицами корректны. Это также упрощает написание запросов и делает базу данных более понятной и логически организованной.

Пример с реляциями:

    sql
    CREATE TABLE departments (
        department_id INT PRIMARY KEY,
        department_name VARCHAR(50)
    );

    CREATE TABLE employees (
        employee_id INT PRIMARY KEY,
        name VARCHAR(50),
        department_id INT,
        FOREIGN KEY (department_id) REFERENCES departments(department_id)
    );

    SELECT e.name, d.department_name
    FROM employees e
    JOIN departments d ON e.department_id = d.department_id;
В этом примере связь между таблицами employees и departments явно указана через внешний ключ department_id. Это обеспечивает целостность данных и упрощает написание запросов.

_Вывод:_
Хотя операторы JOIN могут работать и без явных реляций, использование реляций через внешние ключи делает базу данных более структурированной, упрощает управление и поддерживает целостность данных. Это хорошая практика, которая помогает избежать многих потенциальных проблем в будущем.

# 12. Что такое Union? Как использовать?
UNION — это оператор SQL, который используется для объединения результатов двух или более SELECT запросов в один результирующий набор. Этот оператор объединяет строки из всех запросов в один результат, исключая дублирующиеся строки по умолчанию.

__Основные моменты:__
1. __Количество и порядок столбцов:__ Запросы, объединяемые оператором UNION, должны иметь одинаковое количество столбцов и одинаковый порядок данных.

2. __Типы данных:__ Типы данных в соответствующих столбцах должны быть совместимы.

_Использование оператора UNION:_
- Синтаксис:

      sql
      SELECT column1, column2, ...
      FROM table1
      UNION
      SELECT column1, column2, ...
      FROM table2;
- Пример: Допустим, у нас есть две таблицы employees_2023 и employees_2024, и мы хотим объединить результаты, чтобы получить полный список сотрудников:

      sql
      SELECT employee_id, employee_name, department
      FROM employees_2023
      UNION
      SELECT employee_id, employee_name, department
      FROM employees_2024;
__Объединение с дублирующими значениями:__
Оператор UNION по умолчанию удаляет дублирующиеся строки. Если нужно сохранить дубликаты, используйте UNION ALL:

    sql
    SELECT employee_id, employee_name, department
    FROM employees_2023
    UNION ALL
    SELECT employee_id, employee_name, department
    FROM employees_2024;

__Пример использования с UNION:__
- Таблица **sales_q1**:

- Таблица **sales_q2**:

- Объединение данных:

      sql
      SELECT product_name, amount
      FROM sales_q1
      UNION
      SELECT product_name, amount
      FROM sales_q2;
__Примеры объединения с сортировкой:__
Можно также применять сортировку к объединённым результатам:

    sql
    SELECT employee_id, employee_name, department
    FROM employees_2023
    UNION
    SELECT employee_id, employee_name, department
    FROM employees_2024
    ORDER BY employee_name;
Оператор UNION позволяет объединять результаты различных запросов, упрощая процесс получения комплексных данных из нескольких таблиц.

# 13. В чем разница между UNION и UNION ALL ?
- UNION: Используйте, когда важно избежать дубликатов и нужен уникальный список результатов.

- UNION ALL: Используйте, когда важно сохранить все записи, включая дубликаты, и вам нужно максимальное количество строк без фильтрации.

__Пример использования с UNION ALL:__
Если необходимо сохранить дублирующиеся строки:

    sql
    SELECT product_name, amount
    FROM sales_q1
    UNION ALL
    SELECT product_name, amount
    FROM sales_q2;
    
# 14. Какие существуют типы связей в базе данных? Приведите примеры.
В реляционных базах данных существуют несколько типов связей (отношений), которые определяют, как данные в одной таблице связаны с данными в другой таблице. Вот основные типы связей и примеры для каждого из них:

__1. Один к одному (One-to-One)__

Каждой записи в одной таблице соответствует только одна запись в другой таблице.

Пример:
Таблица **persons** и таблица **passports**.

Таблица **persons**:

Таблица **passports**:

В этом примере каждый человек имеет один уникальный паспорт.

__2. Один ко многим (One-to-Many)__
Каждой записи в одной таблице соответствует множество записей в другой таблице.

Пример:
Таблица **departments** и таблица **employees**.

Таблица **departments**:

Таблица **employees**:

В этом примере каждый отдел может включать множество сотрудников.

__3. Многие к одному (Many-to-One)__

Обратное отношение "один ко многим", когда много записей в одной таблице соответствуют одной записи в другой таблице.

Пример:
Таблица **employees** и таблица **departments** (смысл остается тот же, что и в примере "один ко многим").

__4. Многие ко многим (Many-to-Many)__

Каждой записи в одной таблице может соответствовать множество записей в другой таблице, и наоборот. Для реализации этого типа связи обычно используется промежуточная таблица.

Пример:
Таблица **students**, таблица **courses** и таблица **student_courses** (промежуточная таблица).

Таблица **students**:

Таблица **courses**:

Таблица **student_courses**:

В этом примере каждый студент может записаться на несколько курсов, и каждый курс может включать множество студентов.

Эти типы связей помогают структурировать данные и обеспечивать целостность и логическую согласованность информации в реляционных базах данных.
# 15. Что такое SELECT ? Как использовать?
SELECT — это одна из самых основных и часто используемых команд SQL, предназначенная для выборки данных из одной или нескольких таблиц базы данных. Она позволяет извлекать определенные столбцы, строки и даже вычисления на основе данных.

__Основной синтаксис SELECT:__

    sql
    SELECT column1, column2, ...
    FROM table_name
    WHERE condition;
_Примеры использования:_
1. __Выбор всех столбцов:__

        sql
        SELECT * FROM employees;
Этот запрос выбирает все столбцы из таблицы **employees**.

2. __Выбор конкретных столбцов:__

        sql
        SELECT name, position FROM employees;
Этот запрос выбирает только столбцы **name** и **position** из таблицы **employees**.

3. __Выбор с условием:__

        sql
        SELECT name, position FROM employees WHERE department_id = 1;
Этот запрос выбирает только тех сотрудников, которые работают в отделе с  **department_id = 1**

4. __Сортировка результатов:__

        sql
        SELECT name, position FROM employees ORDER BY name ASC;
Этот запрос выбирает столбцы **name** и **position** из таблицы **employees** и сортирует результаты по имени в порядке возрастания.

5. __Агрегация данных:__

        sql
        SELECT COUNT(*), department_id FROM employees GROUP BY department_id;
Этот запрос считает количество сотрудников в каждом отделе и группирует результаты по **department_id.**

6. __Выбор с использованием арифметических операций:__

        sql
        SELECT name, salary, salary * 0.1 AS bonus FROM employees;
Этот запрос выбирает имя, зарплату и рассчитывает бонус (10% от зарплаты) для каждого сотрудника, выводя результат в столбце **bonus**.

__Ключевые компоненты SELECT запроса:__
__SELECT__: Определяет столбцы, которые будут извлечены.

__FROM__: Указывает таблицу, из которой будут выбраны данные.

__WHERE__: (необязательно) Фильтрует строки на основе указанного условия.

__ORDER BY__: (необязательно) Сортирует результаты.

__GROUP BY:__ (необязательно) Группирует строки по одному или нескольким столбцам.

__HAVING:__ (необязательно) Фильтрует группы, определенные оператором GROUP BY.

__LIMIT:__ (необязательно) Ограничивает количество возвращаемых строк.

Полезные советы:
Используйте подстановочный знак *, чтобы выбрать все столбцы.

Фильтруйте данные с помощью оператора **WHERE** для извлечения только тех строк, которые вам нужны.

Сортируйте результаты с помощью оператора **ORDER BY** для улучшения читаемости.

Применяйте агрегатные функции (например, **COUNT, SUM, AVG**) для выполнения вычислений на основе данных.

Команда **SELECT** является основой работы с данными в SQL и позволяет гибко извлекать нужную информацию из базы данных.

# 16. Что такое подзапрос? Как использовать?
Подзапрос (или вложенный запрос) — это запрос SQL, который встроен внутри другого запроса SQL и используется для выполнения более сложных операций. Подзапросы могут возвращать одно значение, несколько строк или целые таблицы, которые затем используются в основном запросе.

_Виды подзапросов:_
1. __Подзапросы в операторе SELECT:__

- Подзапросы могут использоваться для извлечения значений, которые затем используются в списке выбора основного запроса.

Пример:

    sql
    SELECT name, (SELECT department_name FROM departments WHERE departments.department_id = employees.department_id) AS department
    FROM employees;
- Этот пример выбирает имена сотрудников и соответствующие названия отделов.

2. __Подзапросы в операторе WHERE:__

- Подзапросы могут использоваться в части WHERE для фильтрации записей основного запроса на основе значений, возвращаемых подзапросом.

Пример:

    sql
    SELECT name
    FROM employees
    WHERE department_id = (SELECT department_id FROM departments WHERE department_name = 'IT');
- Этот запрос выбирает имена сотрудников, работающих в отделе IT.

3. __Подзапросы в операторе FROM:__

- Подзапросы могут использоваться как временные таблицы в части FROM основного запроса.

Пример:

    sql
    SELECT sub.employee_id, sub.salary
    FROM (SELECT employee_id, salary FROM employees WHERE salary > 50000) AS sub;
- Этот пример выбирает идентификаторы сотрудников и их зарплаты из подзапроса, возвращающего сотрудников с зарплатой выше 50000.

__Примеры использования:__
1. _Подзапрос в операторе SELECT:_

    sql
    SELECT name, (SELECT AVG(salary) FROM employees) AS avg_salary
    FROM employees;
- Этот запрос выбирает имена сотрудников и среднюю зарплату всех сотрудников.

2. _Подзапрос в операторе WHERE:_

        sql
        SELECT name
        FROM employees
        WHERE salary > (SELECT AVG(salary) FROM employees);
- Этот запрос выбирает имена сотрудников с зарплатой выше средней.

3. __Подзапрос в операторе FROM:__

        sql
        SELECT t.name, t.total_sales
        FROM (
          SELECT name, SUM(sales) AS total_sales
          FROM sales
          GROUP BY name
        ) AS t
        WHERE t.total_sales > 10000;
- Этот запрос сначала вычисляет общие продажи для каждого сотрудника во вложенном запросе, а затем выбирает тех сотрудников, у которых общие продажи превышают 10000.

Примечания:
Подзапросы могут быть включены практически в любое место SQL-запроса, включая SELECT, FROM, WHERE, HAVING и JOIN.

Используйте подзапросы, когда основной запрос зависит от результатов другого запроса.

Убедитесь, что подзапрос возвращает правильный тип данных, ожидаемый в основном запросе.

Подзапросы позволяют выполнять сложные запросы и управлять данными более гибко и точно.

# 17. Что такое CREATE TABLE? Как использовать?
CREATE TABLE — это команда SQL, которая используется для создания новой таблицы в базе данных. С ее помощью можно определить структуру таблицы, указать названия столбцов, типы данных для каждого столбца и любые ограничения, которые необходимо применить.

__Основной синтаксис команды CREATE TABLE:__

    sql
    CREATE TABLE table_name (
        column1 datatype constraints,
        column2 datatype constraints,
        ...
    );
_Примеры использования:_
- _Создание простой таблицы:_

      sql
      CREATE TABLE employees (
          employee_id INT PRIMARY KEY,
          name VARCHAR(50),
          position VARCHAR(50),
          salary DECIMAL(10, 2)
      );
- **employee_id INT PRIMARY KEY**: Создает столбец employee_id с типом данных **INT** и задает его как первичный ключ.

- **name VARCHAR(50)**: Создает столбец name с типом данных **VARCHAR** длиной до 50 символов.

- **position VARCHAR(50)**: Создает столбец position с типом данных **VARCHAR** длиной до 50 символов.

- **salary DECIMAL(10, 2)**: Создает столбец salary с типом данных **DECIMAL**, который может хранить числа с десятичными дробями до 10 цифр, из которых 2 — дробные.

- _Создание таблицы с ограничениями:_

      sql
      CREATE TABLE students (
          student_id INT PRIMARY KEY AUTO_INCREMENT,
          name VARCHAR(100) NOT NULL,
          email VARCHAR(100) UNIQUE,
          enrollment_date DATE
      );
- **student_id INT PRIMARY KEY AUTO_INCREMENT**: Создает столбец student_id с автоинкрементом и задает его как первичный ключ.

- **name VARCHAR(100) NOT NULL**: Создает столбец name с типом данных **VARCHAR** длиной до 100 символов и устанавливает ограничение, что значение не может быть **NULL**.

- e**mail VARCHAR(100) UNIQUE**: Создает столбец email с типом данных **VARCHAR** длиной до 100 символов и устанавливает уникальность значений.

- **enrollment_date DATE**: Создает столбец enrollment_date с типом данных **DATE**.

Примечания:
Типы данных: Важно выбирать соответствующие типы данных для столбцов, чтобы обеспечить правильное хранение и обработку данных.

Ограничения (constraints): Ограничения помогают поддерживать целостность и уникальность данных. Основные типы ограничений: P**RIMARY KEY, FOREIGN KEY, NOT NULL, UNIQUE, CHECK, DEFAULT.**

Автоинкремент (**AUTO_INCREMENT**): Полезен для создания уникальных идентификаторов для каждой записи в таблице.
# 18. Какие ты можешь использовать Числовые типы данных при создании таблицы?
При создании таблицы в SQL можно использовать различные числовые типы данных, чтобы гарантировать правильное хранение и обработку числовой информации. Вот основные числовые типы данных, которые часто используются:

__Целочисленные типы данных:__
1. __INT:__ Стандартный целочисленный тип данных. Он занимает 4 байта и может хранить значения от -2,147,483,648 до 2,147,483,647.

2. __SMALLINT__: Меньший целочисленный тип данных. Он занимает 2 байта и может хранить значения от -32,768 до 32,767.

3. **TINYINT**: Очень маленький целочисленный тип данных. Он занимает 1 байт и может хранить значения от 0 до 255.

4. **BIGINT**: Большой целочисленный тип данных. Он занимает 8 байтов и может хранить значения от -9,223,372,036,854,775,808 до 9,223,372,036,854,775,807.

5. **BOOLEAN**: Используется для хранения логических значений TRUE или FALSE. Часто представлен как TINYINT (0 или 1).

**Дробные типы данных:**

1. **FLOAT**: Тип данных с плавающей точкой. Используется для хранения чисел с дробной частью. Он занимает 4 байта и имеет приблизительный диапазон от -3.4E+38 до 3.4E+38.

2. **DOUBLE**: Двойная точность типа данных с плавающей точкой. Он занимает 8 байтов и имеет приблизительный диапазон от -1.7E+308 до 1.7E+308.

3. **DECIMAL(p, s)** или N**UMERIC(p, s)**: Тип данных с фиксированной точностью и масштабом. p — общее количество цифр, s — количество цифр после запятой. Он используется для точных вычислений, таких как денежные операции.

_Примеры использования:_

    sql
    CREATE TABLE financial_data (
        record_id INT PRIMARY KEY AUTO_INCREMENT,
        amount DECIMAL(15, 2),  -- Для хранения денежных сумм
        tax_rate FLOAT,         -- Для хранения налоговой ставки
        employee_count SMALLINT -- Для хранения количества сотрудников
    );

_Объяснение:_
- **amount DECIMAL(15, 2)**: Используется для хранения денежных сумм с точностью до двух десятичных знаков.

- **tax_rate FLOAT**: Используется для хранения налоговой ставки, которая может быть дробным числом.

- **employee_count SMALLINT**: Используется для хранения количества сотрудников, которое не превышает 32,767.

Использование правильных типов данных при создании таблиц позволяет оптимизировать хранение данных и повысить производительность запросов.

# 19. Какие ты можешь использовать Текстовые типы данных при создании таблицы?
При создании таблицы в SQL можно использовать различные текстовые типы данных для хранения строковых данных. Вот основные текстовые типы данных, которые часто используются:

**Основные текстовые типы данных:**
1. **CHAR(n):**

- Фиксированная длина строки.

- **n** указывает количество символов.

- Если строка короче, чем n, она дополняется пробелами до указанной длины.

- Пример: **CHAR(10)**.

2. **VARCHAR(n):**

- Переменная длина строки.

- **n** указывает максимальное количество символов.

- Длина строки соответствует фактическому количеству символов без дополнения пробелами.

- Пример: **VARCHAR(50).**

3. **TEXT**:

- Очень длинная строка текста.

- Может хранить до 65,535 байт данных (в MySQL).

- Используется для хранения больших объемов текста, таких как комментарии или описания.

4. **TINYTEXT:**

- Маленькая текстовая строка.

- Может хранить до 255 байт данных.

- Используется для небольших объемов текста.

5. **MEDIUMTEXT:**

- Средняя по размеру текстовая строка.

- Может хранить до 16,777,215 байт данных.

- Используется для текстов среднего объема.

6. **LONGTEXT**:

- Очень большая текстовая строка.

- Может хранить до 4,294,967,295 байт данных.

- Используется для хранения очень больших объемов текста, таких как статьи или документы.

__Примеры использования:__
<br>___Создание таблицы с различными текстовыми типами данных:___

    sql
    CREATE TABLE articles (
        article_id INT PRIMARY KEY AUTO_INCREMENT,
        title VARCHAR(255),
        summary TEXT,
        content LONGTEXT
    );
- **title VARCHAR(255):** Хранит заголовок статьи с максимальной длиной 255 символов.

- **summary TEXT:** Хранит краткое описание статьи.

- c**ontent LONGTEXT:** Хранит полный текст статьи.

___Создание таблицы для хранения комментариев:___

    sql
    CREATE TABLE comments (
        comment_id INT PRIMARY KEY AUTO_INCREMENT,
        user_name VARCHAR(50),
        comment_body TEXT
    );
- **user_name VARCHAR(50):** Хранит имя пользователя с максимальной длиной 50 символов.

- **comment_body TEXT:** Хранит текст комментария, который может быть достаточно длинным.

Использование правильных текстовых типов данных при создании таблиц помогает эффективно управлять строковыми данными и оптимизировать хранение информации.

# 20. Какие ты можешь использовать типы данных Даты при создании таблицы?
Какие ты можешь использовать типы данных Даты при создании таблицы?
При создании таблицы в SQL можно использовать несколько типов данных для хранения информации о дате и времени. Вот основные типы данных для хранения даты и времени, которые часто используются:

___Типы данных для даты и времени:___
1. **DATE:**

- Хранит дату в формате YYYY-MM-DD.

- Пример: 2024-11-23.

 -Используется для хранения информации, такой как дата рождения, дата заказа, дата найма и т.д.

2. **TIME**:

- Хранит время в формате HH:MM:SS.

 -Пример: 14:30:00.

- Используется для хранения информации о времени, такой как время начала встречи или время открытия магазина.

3. **DATETIME:**

- Хранит комбинацию даты и времени в формате YYYY-MM-DD HH:MM:SS.

- Пример: 2024-11-23 14:30:00.

- Используется для хранения информации, включающей и дату, и время, такой как временные метки событий.

4. **TIMESTAMP:**

- Хранит дату и время в формате YYYY-MM-DD HH:MM:SS, но с автоматическим учетом часового пояса.

- Пример: 2024-11-23 14:30:00.

- Часто используется для записи времени создания или обновления записи. Обновляется автоматически при изменении строки.

5. **YEAR:**

- Хранит год в формате YYYY.

- Пример: 2024.

- Используется для хранения информации о годе, такой как год выпуска автомобиля или год выпуска книги.
# 21. В чем разница между типом данных CHAR и VARCHAR в SQL?
CHAR и VARCHAR — это два часто используемых текстовых типа данных в SQL, но у них есть ключевые различия в том, как они хранят и обрабатывают данные.

**CHAR (Character):**
- Фиксированная длина: **CHAR(n)** всегда занимает одинаковое количество байтов, независимо от фактической длины хранимого значения. Если строка короче, чем **n**, она заполняется пробелами до указанной длины.

- Использование: Подходит для хранения строк фиксированной длины, таких как коды стран, почтовые индексы и т.д.

- Производительность: CHAR может быть более эффективен для строк фиксированной длины, так как операции сравнения могут быть быстрее.

Пример:

    sql
    CREATE TABLE example (
        code CHAR(5)
    );
В этом примере каждая строка в столбце code будет занимать ровно 5 символов.

**VARCHAR (Variable Character):**
- Переменная длина: VARCHAR(n) хранит строки переменной длины, где **n** — максимальная длина строки. Длина строки соответствует фактическому количеству символов без дополнения пробелами.

- Использование: Подходит для хранения строк переменной длины, таких как имена, адреса и т.д.

- Производительность: VARCHAR может быть более эффективен для строк переменной длины, так как занимает меньше места при хранении.

Пример:

    sql
    CREATE TABLE example (
        name VARCHAR(50)
    );
В этом примере строки в столбце name могут занимать до 50 символов, но будут храниться только фактической длиной строки.

___Ключевые различия:___
- **Длина**: CHAR имеет фиксированную длину, VARCHAR — переменную длину.

- **Хранение**: CHAR всегда занимает одинаковое количество байтов, VARCHAR занимает место в зависимости от фактической длины строки.

- **Производительность**: CHAR может быть быстрее для строк фиксированной длины, в то время как VARCHAR может быть более эффективен для строк переменной длины, экономя место.
# 22. Чем NULL отличается от 0?
**NULL** и **0** — это два разных значения, используемых в базах данных и программировании, и они имеют принципиально разные значения и использование.

**NULL**:
- **Значение**: **NULL** представляет отсутствие значения или неопределенное значение. Это не число, не строка, и не дата — это отсутствие данных.

- **Использование**: **NULL** используется для обозначения того, что значение не существует, неизвестно или не применимо.

- **Логическое сравнение:** При сравнении с **NULL** результаты всегда неопределенны. Например, **NULL** = **NULL** вернет **FALSE**, и большинство операций с **NULL** также возвращают **NULL**.

**Пример**: В базе данных поле email может быть NULL, если у пользователя нет электронной почты.

    sql
    SELECT * FROM users WHERE email IS NULL;
**0:**
- **Значение: 0** — это конкретное числовое значение, представляющее ноль или отсутствие количества.

- **Использование**: **0** используется как числовое значение в математических и логических операциях.

- **Логическое сравнение: 0** можно сравнивать с другими числами. Например, 0 = 0 вернет TRUE.

Пример: В поле age в базе данных значение 0 может указывать на младенца или несуществующий возраст (например, в тестовых данных).

    sql
    SELECT * FROM users WHERE age = 0;
___Ключевые различия:___
1. **Смысл**:

	- **NULL** означает отсутствие значения.

	- **0** — это числовое значение нуля.

2. **Логические операции:**

 	- **NULL** не равно **NULL** и большинство операций с **NULL** возвращают **NULL**.

	- **0** равно **0** и участвует в арифметических и логических операциях как любое другое число.

3. **Использование:**

	- **NULL** используется для обозначения пропущенных или неизвестных данных.

	- **0** используется для обозначения нулевого значения или отсутствия количества.
# 23. Какие ограничения существуют при создании таблиц?
При создании таблиц в базе данных можно устанавливать различные ограничения, чтобы обеспечить целостность данных и их правильность. Вот основные типы ограничений (constraints), которые можно использовать:

___Основные типы ограничений:___
1. **PRIMARY KEY (Первичный ключ):**

- Обеспечивает уникальную идентификацию каждой записи в таблице.

- Пример:

      sql
      CREATE TABLE employees (
          employee_id INT PRIMARY KEY,
          name VARCHAR(50)
      );
2. **FOREIGN KEY (Внешний ключ):**

- Устанавливает связь между двумя таблицами, обеспечивая целостность данных.

- Пример:

      sql
      CREATE TABLE orders (
          order_id INT PRIMARY KEY,
          customer_id INT,
          FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
      );
3. **NOT NULL:**

- Обеспечивает, что столбец не может содержать значение NULL.

- Пример:

      sql
      CREATE TABLE products (
          product_id INT PRIMARY KEY,
          product_name VARCHAR(100) NOT NULL
      );
4. **UNIQUE**:

- Обеспечивает уникальность всех значений в столбце или комбинации столбцов.

- Пример:

      sql
      CREATE TABLE users (
          user_id INT PRIMARY KEY,
          email VARCHAR(100) UNIQUE
      );
5. **CHECK**:

- Обеспечивает, что значения в столбце соответствуют определенному условию.

- Пример:

sql
CREATE TABLE employees (
    employee_id INT PRIMARY KEY,
    age INT CHECK (age >= 18)
);
DEFAULT:

Устанавливает значение по умолчанию для столбца, если значение не указано при вставке данных.

Пример:

    sql
    CREATE TABLE orders (
        order_id INT PRIMARY KEY,
        order_date DATE DEFAULT CURRENT_DATE
    );
___Примеры использования различных ограничений:___
<br>**Создание таблицы с различными ограничениями:**

    sql
    CREATE TABLE students (
        student_id INT PRIMARY KEY,
        name VARCHAR(100) NOT NULL,
        email VARCHAR(100) UNIQUE,
        age INT CHECK (age >= 18),
        enrollment_date DATE DEFAULT CURRENT_DATE
    );
- **PRIMARY KEY:** student_id является первичным ключом.

- **NOT NULL**: name не может быть NULL.

- **UNIQUE**: email должен быть уникальным.

- **CHECK**: age должен быть не меньше 18.

- **DEFAULT**: enrollment_date будет автоматически устанавливаться на текущую дату, если не указано иное.

**Важность использования ограничений**:
- _Целостность данных:_ Ограничения помогают поддерживать корректность и целостность данных, обеспечивая соответствие установленным правилам.

- _Уникальность и идентификация:_ Использование уникальных и первичных ключей позволяет точно идентифицировать записи и избегать дублирования данных.

- _Управление значениями:_ Ограничения, такие как NOT NULL и CHECK, помогают управлять допустимыми значениями в столбцах, обеспечивая их соответствие бизнес-правилам.

Ограничения играют важную роль в обеспечении надежности и точности данных в базе данных.

# 24. Что такое INSERT INTO? Как использовать?
INSERT INTO — это команда SQL, используемая для вставки новых строк в таблицу базы данных. С ее помощью можно добавить одну или несколько новых записей в указанную таблицу.

**Основной синтаксис команды INSERT INTO:**

    sql
    INSERT INTO table_name (column1, column2, column3, ...)
    VALUES (value1, value2, value3, ...);
***Примеры использования:***
1. **Вставка одной строки с указанием столбцов:**

        sql
        INSERT INTO employees (employee_id, name, position, salary)
        VALUES (1, 'Alice', 'Manager', 80000);
2. **Вставка одной строки без указания столбцов**: Если значения вставляются во все столбцы в том порядке, в котором они объявлены в таблице, можно опустить список столбцов:

        sql
        INSERT INTO employees
        VALUES (2, 'Bob', 'Developer', 60000);
3. **Вставка нескольких строк:** Можно вставлять несколько строк за один запрос, указав несколько наборов значений в разделе VALUES:

        sql
        INSERT INTO employees (employee_id, name, position, salary)
        VALUES
        (3, 'Charlie', 'Designer', 55000),
        (4, 'Diana', 'Analyst', 70000);
# 25. Что такое Update? Как использовать?
UPDATE — это команда SQL, используемая для изменения существующих записей в таблице базы данных. С ее помощью можно обновлять значения одного или нескольких столбцов для выбранных строк.

**Основной синтаксис команды UPDATE:**

    sql
    UPDATE table_name
    SET column1 = value1, column2 = value2, ...
    WHERE condition;

**Примеры использования:**
 1.  _Обновление одной строки:_

    sql
    UPDATE employees
    SET salary = 85000
    WHERE employee_id = 1;
Этот запрос обновляет зарплату сотрудника с employee_id равным 1 до значения 85000.

2. _Обновление нескольких строк:_

        sql
        UPDATE employees
        SET position = 'Senior Developer'
        WHERE department_id = 2;

Этот запрос обновляет позицию всех сотрудников в отделе с department_id равным 2 до значения 'Senior Developer'.

3. _Обновление нескольких столбцов:_

        sql
        UPDATE employees
        SET salary = 90000, position = 'Lead Developer'
        WHERE employee_id = 3;
Этот запрос обновляет зарплату и позицию сотрудника с employee_id равным 3 до значений 90000 и 'Lead Developer' соответственно.

**Важные моменты:**
- **Условие** **WHERE**: Очень важно использовать условие **WHERE** для ограничения обновляемых строк. Без этого условия будут обновлены все строки в таблице.

      sql
      UPDATE employees
      SET salary = 90000;
Этот запрос обновит зарплату всех сотрудников до значения 90000, что может привести к нежелательным изменениям.

- **Точное соответствие типов данных:** Убедитесь, что новые значения соответствуют типам данных соответствующих столбцов.

- **Безопасное обновление данных**: Рекомендуется всегда тестировать команды UPDATE на небольшом наборе данных или в тестовой базе данных, чтобы избежать ошибок.
# 26. Что такое DELETE, TRUNCATE и DROP? В чем их отличие?
DELETE, TRUNCATE и DROP — это команды SQL, используемые для удаления данных из базы данных, но они имеют разные цели и последствия. Давайте разберемся в каждом из них и их различиях.

**1. DELETE**
- **Описание:** Команда DELETE используется для удаления отдельных строк из таблицы на основе условия WHERE. Если условие не указано, будут удалены все строки, но структура таблицы и индексные ключи останутся нетронутыми.

- **Использование**:

      sql
      DELETE FROM employees WHERE employee_id = 1;
- **Особенности**:

	- Можно удалять выбранные строки.

	- Срабатывают триггеры (если они определены).

	- Может быть медленнее для больших таблиц, так как проверяет каждую строку.

	- Может быть откатано с помощью транзакций.

**2. TRUNCATE**
- **Описание:** Команда TRUNCATE используется для удаления всех строк из таблицы, не оставляя отдельные строки, но сохраняя структуру таблицы и индексные ключи.

- **Использование**:

      sql
      TRUNCATE TABLE employees;
- **Особенности**:

	- Удаляет все строки сразу.

	- Быстрее DELETE для больших таблиц, так как не проверяет каждую строку.

	- Не срабатывают триггеры.

	- Освобождает использованное дисковое пространство.

	- Не может быть откатано с помощью транзакций в некоторых системах (например, MySQL).

**3. DROP**
- **Описание**: Команда DROP используется для полного удаления таблицы или базы данных, включая все строки, структуру таблицы и индексные ключи.

- **Использование**:

      sql
      DROP TABLE employees;
- **Особенности**:

	- Удаляет всю таблицу или базу данных.

	- Не может быть откатано; данные полностью теряются.

	- Быстрое и необратимое действие.

**Сравнение**:

|Команда|Удаляет строки|Удаляет структуру|Условие WHERE|Срабатывают триггеры|Можно откатить|	
| --- | --- | --- | --- | --- | --- |
| DELETE | Да |	Нет | Да |	Да | Да|

|TRUNCATE|	Да (все)	|Нет|	Нет|	Нет|	Не всегда
DROP|	Да|	Да	|Нет	|Нет|	Нет

**Примеры использования:**
_Таблица employees:_

    sql
    CREATE TABLE employees (
        employee_id INT PRIMARY KEY,
        name VARCHAR(50),
        position VARCHAR(50),
        salary DECIMAL(10, 2)
    );
**Примеры команд:**
- **DELETE**: Удаление конкретного сотрудника.

      sql
      DELETE FROM employees WHERE employee_id = 1;
- **TRUNCATE:** Удаление всех сотрудников.

      sql
      TRUNCATE TABLE employees;
- **DROP:** Удаление таблицы сотрудников.

    sql
    DROP TABLE employees;

Эти команды предоставляют различные уровни управления удалением данных и структур таблиц, позволяя выбирать подходящий инструмент в зависимости от задачи.
# 27. Что такое ALTER TABLE? Как использовать?
ALTER TABLE — это команда SQL, используемая для изменения структуры существующей таблицы. Она позволяет добавлять, изменять или удалять столбцы, а также определять различные ограничения и индексы.

**Основной синтаксис команды ALTER TABLE:**

    sql
    ALTER TABLE table_name
    ADD column_name datatype;

    ALTER TABLE table_name
    DROP COLUMN column_name;

    ALTER TABLE table_name
    MODIFY COLUMN column_name datatype;

    ALTER TABLE table_name
    ADD CONSTRAINT constraint_name constraint_definition;
**Примеры использования:**
1. **Добавление нового столбца:**

        sql
        ALTER TABLE employees
        ADD birthdate DATE;
Этот запрос добавляет новый столбец **birthdate** с типом данных **DATE** в таблицу employees.

2. **Удаление столбца:**

        sql
        ALTER TABLE employees
        DROP COLUMN birthdate;
Этот запрос удаляет столбец birthdate из таблицы employees.

3. **Изменение типа данных столбца:**

        sql
        ALTER TABLE employees
        MODIFY COLUMN salary DECIMAL(12, 2);
Этот запрос изменяет тип данных столбца salary на DECIMAL с точностью до 12 цифр, из которых 2 — дробные.

4. **Добавление ограничения (например, внешнего ключа):**

        sql
        ALTER TABLE orders
        ADD CONSTRAINT fk_customer
        FOREIGN KEY (customer_id) REFERENCES customers(customer_id);
Этот запрос добавляет внешнее ключевое ограничение fk_customer, связывающее столбец customer_id в таблице orders со столбцом customer_id в таблице customers.

**Важные моменты:**
- **Соответствие типов данных:** При добавлении или изменении столбцов убедитесь, что типы данных соответствуют требованиям.

- **Безопасность данных:** Будьте осторожны при удалении столбцов, так как это может привести к потере данных.

- **Использование ограничений:** Ограничения (такие как **FOREIGN KEY, UNIQUE, CHECK**) помогают поддерживать целостность данных и упрощают управление.
# 28. Какие знаешь агрегатные функции? Как использовать?
Агрегатные функции в SQL используются для выполнения вычислений на множестве значений и возвращают одно значение. Эти функции часто используются с оператором **GROUP BY** для группировки данных и вычисления итогов по каждой группе. Вот основные агрегатные функции и их использование:

___Основные агрегатные функции:___
1. **COUNT():**

- Возвращает количество строк в наборе результатов.

- Пример:

      sql
      SELECT COUNT(*) AS total_employees FROM employees;
2. **SUM():**

- Возвращает сумму значений в столбце.

- Пример:

      sql
      SELECT SUM(salary) AS total_salary FROM employees;
3. **AVG():**

- Возвращает среднее значение столбца.

- Пример:

      sql
      SELECT AVG(salary) AS average_salary FROM employees;
4. **MIN():**
- Возвращает минимальное значение в столбце.

- Пример:

      sql
      SELECT MIN(salary) AS lowest_salary FROM employees;
5. **MAX():**

- Возвращает максимальное значение в столбце.

- Пример:

      sql
      SELECT MAX(salary) AS highest_salary FROM employees;

**Использование с GROUP BY:**
<br>Агрегатные функции часто используются вместе с оператором GROUP BY, который группирует строки, имеющие одинаковые значения в указанных столбцах, и позволяет выполнять агрегатные вычисления для каждой группы.

- Пример использования GROUP BY:

      sql
      SELECT department_id, COUNT(*) AS total_employees, AVG(salary) AS average_salary
      FROM employees
      GROUP BY department_id;
Этот запрос группирует данные по идентификатору отдела **(department_id)**, подсчитывает количество сотрудников в каждом отделе и вычисляет среднюю зарплату для каждого отдела.
# 29. В чем разница между операторами GROUP BY и DISTINCT?
Операторы GROUP BY и DISTINCT в SQL используются для работы с наборами данных, но они служат разным целям и применяются по-разному. Давайте рассмотрим каждый оператор и их различия.

**DISTINCT**
- **Цель**: Удаляет дублирующиеся строки из результата запроса, возвращая только уникальные значения.

- **Использование**: Применяется в операторе SELECT для выбора уникальных строк.

- **Синтаксис**:

      sql
      SELECT DISTINCT column1, column2, ...
      FROM table_name;
Пример:

    sql
    SELECT DISTINCT department_id
    FROM employees;
Этот запрос вернет уникальные значения **department_id** из таблицы employees, удаляя дубликаты.

**GROUP BY**
- **Цель**: Группирует строки, имеющие одинаковые значения в указанных столбцах, и позволяет применять агрегатные функции к каждой группе.

- **Использование**: Применяется для группировки данных и выполнения агрегатных вычислений (например, COUNT, SUM, AVG, MAX, MIN).

- **Синтаксис**:

      sql
      SELECT column1, column2, aggregate_function(column3)
      FROM table_name
      GROUP BY column1, column2;
Пример:

      sql
      SELECT department_id, COUNT(*) AS total_employees
      FROM employees
      GROUP BY department_id;
Этот запрос группирует строки по department_id и подсчитывает количество сотрудников в каждом отделе.

**Ключевые различия:**
|Характеристика|	DISTINCT|	GROUP BY|
|---|---|---|
|Цель|	Удаляет дублирующиеся строки|	Группирует строки для выполнения агрегатных функций
|Возвращает|	Уникальные строки|	Группы строк и агрегатные значения
|Агрегатные функции|	Нет (не требует агрегатных функций)|	Требует использования агрегатных функций
|Применение|	Используется в операторе **SELECT**|	Используется с агрегатными функциями
**Примеры для наглядности:**
- **Таблица employees**:
|employee_id|	name|	department_id	salary|
|---|---|---|
|1|	Alice	|1|	80000
|2|	Bob	|2|	60000
|3|	Charlie|	1|	55000
|4|	Diana|	2|	70000

**Пример DISTINCT:**

      sql
      SELECT DISTINCT department_id
      FROM employees;
- Возвращает уникальные department_id: 1 и 2.

**Пример GROUP BY:**

    sql
    SELECT department_id, AVG(salary) AS average_salary
    FROM employees
    GROUP BY department_id;
- Возвращает среднюю зарплату по отделам: Отдел 1 — 67500, Отдел 2 — 65000.

Оба оператора полезны для разных целей, и их понимание поможет вам эффективно работать с данными и выполнять точные запросы.
# 30. В чем разница между операторами WHERE и HAVING?
Операторы WHERE и HAVING в SQL используются для фильтрации данных, но они применяются в разных контекстах и имеют различное предназначение.

**WHERE**
- **Цель**: Фильтрация строк до группировки данных.

- **Использование**: Применяется для фильтрации строк, которые соответствуют указанным условиям.

- **Когда используется**: В основном в операторах SELECT, UPDATE, DELETE и т.д.

- **Пример**:

      sql
      SELECT name, salary
      FROM employees
      WHERE salary > 60000;
Этот запрос выбирает сотрудников, чья зарплата превышает 60,000.

**HAVING**
- **Цель**: Фильтрация групп после выполнения группировки.

- **Использование**: Применяется для фильтрации групп строк, которые соответствуют указанным условиям, часто используется с агрегатными функциями.

- **Когда используется**: В комбинации с оператором GROUP BY.

- **Пример**:

      sql
      SELECT department_id, AVG(salary) AS average_salary
      FROM employees
      GROUP BY department_id
      HAVING AVG(salary) > 65000;
Этот запрос группирует сотрудников по отделам и выбирает те отделы, где средняя зарплата превышает 65,000.

___Основные различия:__
|Характеристика	|WHERE	|HAVING|
|---|---|---|
|Фильтрует	|Отдельные строки|	Группы строк|
|Применяется	|До группировки|	После группировки|
|Использование с агрегатными функциями|	Нет	|Да|
|Пример|	SELECT name FROM employees WHERE salary > 60000;|	SELECT department_id, AVG(salary) FROM employees GROUP BY department_id HAVING AVG(salary) > 65000;|

**Примеры для наглядности:**

Таблица **employees**:
|employee_id|	name|	department_id|	salary|
|---|---|---|---|
|1	|Alice|	1	|80000
|2	|Bob	|2	|60000
|3	|Charlie|	1|	55000
|4	|Diana	|2|	70000

**Пример WHERE**:

    sql
    SELECT name, salary
    FROM employees
    WHERE salary > 60000;
- Возвращает строки с зарплатой выше 60,000: Alice и Diana.

**Пример HAVING:**

    sql
    SELECT department_id, AVG(salary) AS average_salary
    FROM employees
    GROUP BY department_id
    HAVING AVG(salary) > 65000;
- Возвращает отделы со средней зарплатой выше 65,000: Отдел 1 (средняя зарплата 67500).

Оба оператора важны для выполнения эффективных запросов и фильтрации данных, и их правильное использование помогает получить точные результаты
# 31. Что такое Order by? Особенности работы Order by?

Команда ORDER BY в SQL используется для сортировки результатов запроса по одному или нескольким столбцам в порядке возрастания или убывания. Это позволяет упорядочить данные для улучшения их читабельности и анализа.

**Основной синтаксис команды ORDER BY:**

    sql
    SELECT column1, column2, ...
    FROM table_name
    ORDER BY column1 [ASC|DESC], column2 [ASC|DESC], ...;
- ASC (ascending): Сортировка по возрастанию (по умолчанию).

- DESC (descending): Сортировка по убыванию.

**Примеры использования:**
1. _Сортировка по одному столбцу в порядке возрастания:_

        sql
        SELECT name, salary
        FROM employees
        ORDER BY salary ASC;
Этот запрос сортирует сотрудников по зарплате в порядке возрастания.

2. _Сортировка по одному столбцу в порядке убывания:_

        sql
        SELECT name, salary
        FROM employees
        ORDER BY salary DESC;
Этот запрос сортирует сотрудников по зарплате в порядке убывания.

3. _Сортировка по нескольким столбцам:_

        sql
        SELECT name, department_id, salary
        FROM employees
        ORDER BY department_id ASC, salary DESC;
Этот запрос сначала сортирует сотрудников по отделу в порядке возрастания, а затем по зарплате в порядке убывания внутри каждого отдела.
# 32. Для чего используются операторы IN, BETWEEN, LIKE?
Операторы IN, BETWEEN и LIKE в SQL используются для выполнения различных типов фильтрации данных. Каждый из этих операторов имеет свое уникальное назначение и помогает упростить запросы. 

1. ___Оператор IN___
- **Описание**: Оператор IN используется для проверки, входит ли значение в указанный список значений.

- **Синтаксис:**

      sql
      SELECT column1, column2, ...
      FROM table_name
      WHERE column_name IN (value1, value2, ...);
- **Пример**:

      sql
      SELECT name, department_id
      FROM employees
      WHERE department_id IN (1, 2, 3);
- Этот запрос выбирает сотрудников, работающих в отделах с department_id 1, 2 или 3.

2. ___Оператор BETWEEN___
- **Описание**: Оператор BETWEEN используется для проверки, попадает ли значение в указанный диапазон (включительно).

- **Синтаксис**:

      sql
      SELECT column1, column2, ...
      FROM table_name
      WHERE column_name BETWEEN value1 AND value2;
- **Пример**:

      sql
      SELECT name, salary
      FROM employees
      WHERE salary BETWEEN 50000 AND 80000;
Этот запрос выбирает сотрудников с зарплатой в диапазоне от 50,000 до 80,000 включительно.

3. ___Оператор LIKE___
- **Описание**: Оператор LIKE используется для поиска строк, соответствующих указанному шаблону. Часто используется с подстановочными знаками: % (заменяет ноль или более символов) и _ (заменяет один символ).

- **Синтаксис**:

      sql
      SELECT column1, column2, ...
      FROM table_name
      WHERE column_name LIKE pattern;
- **Пример**:

      sql
      SELECT name
      FROM employees
      WHERE name LIKE 'A%';
Этот запрос выбирает всех сотрудников, чье имя начинается на букву 'A'.

_Важные моменты и особенности:_
<br>**IN:**
- Упрощает запись сложных условий с множеством OR.
- Поддерживает вложенные подзапросы.

- Пример:

      sql
      SELECT name
      FROM employees
      WHERE department_id IN (SELECT department_id FROM departments WHERE department_name = 'IT');
**BETWEEN**:

-	Учитывает граничные значения.

- Может использоваться для чисел, дат и текстовых данных.

- Пример:

      sql
      SELECT * FROM sales
      WHERE sale_date BETWEEN '2023-01-01' AND '2023-12-31';
**LIKE**:

- Полезен для текстового поиска.

- Поддерживает использование подстановочных знаков.

- Пример:

      sql
      SELECT email
      FROM users
      WHERE email LIKE '%@gmail.com';
Операторы IN, BETWEEN и LIKE предоставляют гибкие и мощные возможности для фильтрации данных, делая запросы более эффективными и удобными.
# 33. Какие условия выполнения операторов OR и AND?
Операторы OR и AND в SQL используются для комбинирования условий в запросах, что позволяет выполнять более сложные фильтрации данных. 

**Оператор AND**
- **Цель**: AND используется для соединения двух или более условий, все из которых должны быть выполнены, чтобы строка была включена в результат.

- **Особенности**:

	- Все условия, соединенные с AND, должны быть истинными.

	- Используется для создания более точных фильтров.

- **Пример**:

      sql
      SELECT name, salary
      FROM employees
      WHERE department_id = 1 AND salary > 60000;
Этот запрос выбирает сотрудников из отдела 1, чья зарплата превышает 60,000.

**Оператор OR**
- **Цель**: OR используется для соединения двух или более условий, одно из которых должно быть выполнено, чтобы строка была включена в результат.

- **Особенности**:

	- Достаточно, чтобы одно из условий, соединенное с OR, было истинным.

	- Используется для создания менее строгих фильтров.

- **Пример**:

      sql
      SELECT name, salary
      FROM employees
      WHERE department_id = 1 OR salary > 60000;
Этот запрос выбирает сотрудников либо из отдела 1, либо с зарплатой выше 60,000.

**Совместное использование AND и OR**
- **Цель**: AND и OR могут использоваться вместе для создания сложных логических выражений.

- **Особенности**:

	- Важно использовать скобки для управления порядком выполнения условий.

- Пример:

      sql
      SELECT name, salary
      FROM employees
      WHERE (department_id = 1 OR department_id = 2) AND salary > 60000;
Этот запрос выбирает сотрудников из отдела 1 или 2 с зарплатой выше 60,000.
# 34. Как работает оператор LIMIT?
Оператор LIMIT в SQL используется для ограничения количества строк, возвращаемых запросом. Это полезно, когда нужно получить только определенное количество записей из большого набора данных, что может быть удобно для пагинации, тестирования или анализа данных.

**Основной синтаксис оператора LIMIT:**

    sql
    SELECT column1, column2, ...
    FROM table_name
    LIMIT number_of_rows;

**Примеры использования:**
- Выбор первых n строк:

      sql
      SELECT name, salary
      FROM employees
      LIMIT 5;
Этот запрос выбирает первые 5 строк из таблицы employees.

**Совместное использование с ORDER BY:**

    sql
    SELECT name, salary
    FROM employees
    ORDER BY salary DESC
    LIMIT 3;
Этот запрос выбирает три сотрудника с самой высокой зарплатой.
# 35. Что такое нормализация и каковы ее преимущества?
Нормализация — это процесс структурирования базы данных таким образом, чтобы минимизировать дублирование данных и обеспечить целостность данных. Основная цель нормализации — устранить избыточные и повторяющиеся данные, а также избежать аномалий при вставке, обновлении и удалении данных.
# 36. Какие формы нормализации существуют?
Основные уровни нормализации:
1. **Первая нормальная форма (1NF):**

- Все столбцы должны содержать только атомарные (неделимые) значения.

- В каждой строке должны быть уникальные значения.

- Пример: Разделение одного столбца с полным адресом на отдельные столбцы для улицы, города и почтового индекса.

2. **Вторая нормальная форма (2NF):**

- Должна соответствовать первой нормальной форме.

- Удаление функциональной зависимости между неключевыми столбцами и частью составного ключа.

- Пример: Разделение таблицы с данными о заказах на две таблицы: одну для информации о заказах и другую для информации о клиентах.

3. **Третья нормальная форма (3NF):**

- Должна соответствовать второй нормальной форме.

- Удаление транзитивной зависимости, где неключевой столбец зависит от другого неключевого столбца.

- Пример: Разделение таблицы с данными о сотрудниках на таблицу сотрудников и таблицу отделов.

___Преимущества нормализации:___
1. **Уменьшение избыточности данных:**

- За счет структурирования данных таким образом, что каждое уникальное значение хранится только один раз.

2. **Обеспечение целостности данных:**

- Поддержание связей между таблицами через использование внешних ключей и ограничений.

3. **Упрощение структуры базы данных:**

- Четкое определение отношений между данными, что облегчает их понимание и управление.

4. **Избежание аномалий при обновлении:**

- Исключение проблем, которые могут возникнуть при вставке, обновлении или удалении данных из-за избыточности.

5. **Повышение производительности запросов:**

- Оптимизация выполнения запросов за счет уменьшения объема данных и дублирования.

**Пример**:
<br>_**До нормализации:**_
|OrderID|	CustomerName|	CustomerAddress|	ProductName|	Quantity|	Price|
|---|---|---|---|---|---|
|1|	Alice|	123 Elm St|	Laptop|	1|	1000
|2|	Bob|	456 Oak St|	Phone|	2|	500
|3|	Alice|	123 Elm St|	Mouse|	1|	20
_**После нормализации:**_
<br>**Таблица Orders:**
|OrderID|	CustomerID|	ProductName|	Quantity|	Price|
|---|---|---|---|---|
|1|	1|	Laptop|	1|	1000|
|2|	2|	Phone|	2	|500|
|3|	1|	Mouse|	1|	20|

**Таблица Customers:**
|CustomerID|	CustomerName|	CustomerAddress|
|---|---|---|
|1|	Alice|	123 Elm St
|2	|Bob |456 Oak St
Нормализация делает базы данных более структурированными, предсказуемыми и управляемыми, что позволяет эффективно обрабатывать данные и поддерживать их целостность.
# 37. Что такое денормализация?
Что такое денормализация?
Денормализация — это процесс внесения преднамеренной избыточности в базу данных для улучшения производительности запросов и упрощения доступа к данным. В отличие от нормализации, направленной на минимизацию дублирования данных и поддержание целостности, денормализация делает структуру данных более плоской, добавляя избыточные копии данных.

**Основные цели денормализации:**
1. **Улучшение производительности:**

- Уменьшение количества соединений (**JOIN**) между таблицами для повышения скорости выполнения запросов.

2. **Снижение сложности:**

- Упрощение структуры базы данных для облегчения работы с ней, особенно для чтения данных.

**Примеры денормализации:**
1. **Дублирование данных:**

- Добавление столбца **department_name** в таблицу **employees**, чтобы избежать необходимости выполнения **JOIN** с таблицей departments.

      sql
      CREATE TABLE employees (
          employee_id INT PRIMARY KEY,
          name VARCHAR(50),
          department_id INT,
          department_name VARCHAR(50) -- Денормализованное поле
      );
2. **Предварительное вычисление:**

- Сохранение предварительно вычисленных итогов или средних значений в таблице для ускорения доступа.

      sql
      CREATE TABLE sales_summary (
          department_id INT PRIMARY KEY,
          total_sales DECIMAL(10, 2),
          avg_sales DECIMAL(10, 2)
      );
**Преимущества денормализации:**
1. **Ускорение чтения данных:**

- Уменьшение количества соединений таблиц позволяет быстрее получать доступ к данным.

2. **Упрощение запросов:**

- Простота запросов за счет уменьшения числа необходимых соединений и агрегаций.

**Недостатки денормализации:**
1. **Избыточность данных:**

- Возникает риск дублирования данных, что может увеличить размер базы данных.

2. Сложность обновления:

- Обновление данных становится более сложным, так как нужно поддерживать синхронизацию избыточных копий данных.

2. Аномалии данных:

- Возможны ошибки и несогласованность данных при некорректном обновлении избыточных данных.
# 38. Из каких подмножеств состоит SQL?
SQL (Structured Query Language) состоит из нескольких подмножеств команд, которые группируются по их функциональности. Основные подмножества SQL включают:

**1. DDL (Data Definition Language)**
<br>DDL-команды используются для определения и управления структурами базы данных (например, таблицами, индексами). Основные команды DDL:

- **CREATE**: Создание новых таблиц, баз данных, индексов и других объектов.

- **ALTER**: Изменение структуры существующих объектов.

- **DROP**: Удаление объектов из базы данных.

- **TRUNCATE**: Удаление всех строк из таблицы без удаления самой таблицы.

**2. DML (Data Manipulation Language)**
DML-команды используются для манипулирования данными внутри таблиц. Основные команды DML:

- **SELECT:** Извлечение данных из базы данных.

- **INSERT**: Вставка новых строк в таблицу.

- **UPDATE**: Обновление существующих строк в таблице.

- **DELETE**: Удаление строк из таблицы.

**3. DCL (Data Control Language)**
<br>DCL-команды используются для управления доступом к данным и правами пользователей. Основные команды DCL:

- **GRANT**: Предоставление привилегий пользователям.

- **REVOKE**: Отзыв привилегий у пользователей.

**4. TCL (Transaction Control Language)**
<br>TCL-команды используются для управления транзакциями в базе данных, обеспечивая целостность данных.
Основные команды TCL:

- **BEGIN** или **START TRANSACTION**: Начало новой транзакции.

- **COMMIT**: Фиксация изменений, сделанных в рамках транзакции.

- **ROLLBACK**: Отмена изменений, сделанных в рамках транзакции.

- **SAVEPOINT**: Создание промежуточной точки в транзакции, к которой можно откатиться.

**5. DQL (Data Query Language)**
DQL включает команды, которые используются для выполнения запросов к данным. Основная команда DQL:

- **SELECT**: Извлечение данных из одной или нескольких таблиц.

**Пример использования различных команд:**
**DDL:**

    sql
    CREATE TABLE employees (
        employee_id INT PRIMARY KEY,
        name VARCHAR(50),
        department_id INT,
        salary DECIMAL(10, 2)
    );

    ALTER TABLE employees
    ADD birthdate DATE;

    DROP TABLE employees;
**DML:**

    sql
    INSERT INTO employees (employee_id, name, department_id, salary)
    VALUES (1, 'Alice', 1, 80000);

    UPDATE employees
    SET salary = 85000
    WHERE employee_id = 1;

    DELETE FROM employees
    WHERE employee_id = 1;
**DCL**:

    sql
    GRANT SELECT, INSERT ON employees TO user_name;

    REVOKE SELECT ON employees FROM user_name;
**TCL**:

    sql
    START TRANSACTION;

    UPDATE employees
    SET salary = 90000
    WHERE employee_id = 2;

    COMMIT;

    -- или
    ROLLBACK;
SQL предоставляет мощные инструменты для управления структурами базы данных, данными и транзакциями, обеспечивая гибкость и контроль.
